import pandas as pd
import copy

file_path = "../data/xls/MYS_cases.csv"

data = pd.read_csv(file_path, sep='\t')

_new_cases = {
    'times': list(data['time']),
    'values': list(data['new_cases']),
}

_imported_cases = {
    'times': list(data['time'][data['imported'].notnull()]),
    'values': list(data['imported'][data['imported'].notnull()]),
}

_hospital_prev = {
    'times': list(data['time'][data['hospital_prev'].notnull()]),
    'values': list(data['hospital_prev'][data['hospital_prev'].notnull()]),
}

_icu_prev = {
    'times': list(data['time'][data['icu_prev'].notnull()]),
    'values': list(data['icu_prev'][data['icu_prev'].notnull()]),
}

# Printed data:
new_cases = {'times': [63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132], 'values': [7, 14, 5, 28, 10, 6, 18, 12, 20, 9, 45, 35, 190, 125, 120, 117, 110, 130, 153, 123, 212, 106, 172, 235, 130, 159, 150, 156, 140, 142, 208, 217, 150, 179, 131, 170, 156, 109, 118, 184, 153, 134, 170, 85, 110, 69, 54, 84, 36, 57, 50, 71, 88, 51, 38, 40, 31, 94, 57, 69, 105, 122, 55, 30, 45, 39, 68, 54, 67, 70]}


imported_cases = {'times': [94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132], 'values': [5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 5.9, 72.0, 25.0, 12.0, 11.0, 52.0, 7.0, 0.0, 1.0, 1.0, 4.0, 1.0, 0.0, 0.0]}

imported_cases_2 = copy.deepcopy(new_cases)
for i, time in enumerate(imported_cases_2['times']):
    if time < 120:
        imported_cases_2['values'][i] *= 0.21
    else:
        j = imported_cases['times'].index(time)
        imported_cases_2['values'][i] = imported_cases['values'][j]

print("$$$$$$$$$$")
print(imported_cases_2)



hospital_prev = {'times': [71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132], 'values': [123.0, 126.0, 165.0, 203.0, 386.0, 511.0, 622.0, 728.0, 823.0, 941.0, 1065.0, 1157.0, 1345.0, 1426.0, 1578.0, 1793.0, 1876.0, 1973.0, 2048.0, 2110.0, 2186.0, 2218.0, 2299.0, 2453.0, 2511.0, 2596.0, 2490.0, 2579.0, 2567.0, 2553.0, 2446.0, 2465.0, 2499.0, 2464.0, 2427.0, 2342.0, 2332.0, 2198.0, 2115.0, 2103.0, 2041.0, 2041.0, 1987.0, 1966.0, 1932.0, 1882.0, 1820.0, 1764.0, 1719.0, 1758.0, 1729.0, 1758.0, 1747.0, 1780.0, 1764.0, 1710.0, 1619.0, 1584.0, 1564.0, 1552.0, 1523.0, 1504.0]}


icu_prev = {'times': [71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132], 'values': [2.0, 3.0, 4.0, 5.0, 9.0, 12.0, 12.0, 15.0, 20.0, 26.0, 37.0, 46.0, 57.0, 64.0, 45.0, 45.0, 54.0, 73.0, 73.0, 94.0, 94.0, 102.0, 105.0, 108.0, 99.0, 99.0, 102.0, 92.0, 76.0, 72.0, 69.0, 72.0, 66.0, 66.0, 60.0, 56.0, 56.0, 51.0, 49.0, 46.0, 45.0, 43.0, 43.0, 42.0, 41.0, 36.0, 36.0, 37.0, 36.0, 40.0, 36.0, 37.0, 31.0, 27.0, 28.0, 24.0, 22.0, 19.0, 18.0, 18.0, 18.0, 20.0]}

total_pop = 32364904.
# for i, data_dict in enumerate([new_cases, imported_cases, hospital_prev, icu_prev]):
#
#     print("#############")
#     print(data_dict['times'])
#     if i <= 1:
#         print([[x] for x in data_dict['values']])
#     else:
#         print([[x / total_pop * 1000000] for x in data_dict['values']])
