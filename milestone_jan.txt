susceptible_unvac
susceptible_vac
susceptible_treated
latent_early
latent_late

active_smearpospulm
detect_smearpospulm
faildetect_smearpospulm
treatment_infect_smearpospulm
treatment_noninfect_smearpospulm

rate_birth = 26 / 1000 * total population
rate_death = 69.4 / 1000
tb_n_contact = 10 to 70 range (very broadly gamma distributed)

ratio_force_smearpospulm = 1.
ratio_force_smearnegpulm = multiplier_relative_infectiousness_smearneg
ratio_force_extrapulm = 0.

tb_rate_early_active = proportion_early_progression / timeperiod_early_latent (divide up by thirds for each pulmstatus)
tb_rate_late_active = rate_late_progression
tb_rate_stabilise = (1 - proportion_early_progression) / timeperiod_early_latent
tb_rate_recover = (1 - proportion_casefatality_active_untreated_smearpos) / timeperiod_activeuntreated
tb_rate_death = proportion_casefatality_active_untreated_smearpos / timeperiod_activeuntreated

program_prop_vac = .8
program_prop_unvac = 1 - program_prop_vac
program_rate_detect %country
program_rate_faildetect %country
program_rate_start_treatment %country
program_rate_sick_of_waiting %country
program_rate_completion_infect = 1 / (2 / 52)
program_rate_default_infect %country
program_rate_death_infect %country

program_rate_completion_noninfect %country
program_rate_default_noninfect %country
program_rate_death_noninfect %country

philippines incidence 2014 = 288 (254–324)
philippines prevalence 2014 = 417 (367–471)
philippines mortality 2014 = 10 (9.1–11)

incidence is the sum of all the flows from any latent compartment to any active compartment - divided
by the total population size, divided by 100,000

prevalence is the sum of the size of all the compartments other than susceptible and latent (i.e.
active, detected, faildetect, treated) - divided by 100,000

mortality is the sum of all the flows to tb_death - divided by the total population size, divided
by 100,000

total population = 99,000,000 in 2014

equilibrium 1% fractional change, for all active compartments over 5 years


        self.pulmonary_statuses = [
            '_smearpospulm',
            '_smearnegpulm',
            '_extrapulm']

        self.set_param("ratio_force_smearpospulm", 1.)
        self.set_param("ratio_force_smearnegpulm", .25)
        self.set_param("ratio_force_extrapulm", 0.0)
        for status in self.pulmonary_statuses:
            self.set_compartment("active" + status, 1.)
            self.set_compartment("detect" + status, 0.)
            self.set_compartment("faildetect" + status, 0.)
            self.set_compartment("treatment_infect" + status, 0.)
            self.set_compartment("treatment_noninfect" + status, 0.)

        self.set_param("rate_birth", 20. / 1e3)
        self.set_param("rate_death", 1. / 65)

        self.set_param("tb_n_contact", 30.)

        self.set_param("tb_rate_early_active", .2)
        self.set_param("tb_rate_late_active", .0005 )
        self.set_param("tb_rate_stabilise", .8)
        self.set_param("tb_rate_recover", .5 * .3)
        self.set_param("tb_rate_death", .5 * .3 )

        self.set_param("program_prop_vac", .9)
        self.set_param("program_prop_unvac", .1)

        self.set_param("program_rate_detect", 0.8)
        self.set_param("program_rate_faildetect", 0.2)

        self.set_param("program_rate_start_treatment", 26.)
        self.set_param("program_rate_sick_of_waiting", 4.)

        self.set_param("program_rate_completion_infect", 26 * 0.9 )
        self.set_param("program_rate_default_infect", 26 * 0.05 )
        self.set_param("program_rate_death_infect", 26 * 0.05 )

        self.set_param("program_rate_completion_noninfect", 2 * 0.7)
        self.set_param("program_rate_default_noninfect", 2 * 0.1)
        self.set_param("program_rate_death_noninfect", 2 * 0.1)
